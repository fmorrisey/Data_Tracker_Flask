{% extends 'base.html' %}

{% block header %}
<h1 style="text-align: center">{% block title %} {{ page_title }} {% endblock %}</h1>
{% endblock %}

{% block content %}
<div class="container">
    <div style="background:transparent !important" class="jumbotron">
      <div style="font-family: 'Pacifico', cursive;">
        <p>
          <center>
          <font size="8">Search for Blog Posts</font>
          </center>
        </p>
      </div>
    </div>

  <form action="/search/results" method="post">
    <div class="input-group">
      <input type="text" class="form-control input-lg" name="input" placeholder="Search"  autofocus>
      <div class="input-group-btn">
        <button class="btn btn-primary btn-lg" type="submit">
          <i class="glyphicon glyphicon-search"></i>
        </button>
      </div>
    </div>
  </form>

  <center>
      <h1>Results: ({{ res['hits']['total'] }}) </h1>
  </center>

  <table class="table">
    <thead>
      <tr>
        <th>Date Stamp</th>
        <th>Source</th>
        <th>Title</th>
        <th>Tags</th>
      </tr>
    </thead>

{% for hit in res['hits']['hits'] %}
    <tbody>
      <tr>
        <th scope="row">{{ hit['_source']['date'] }}</th>
          <td>{{ hit['_index'] }}</td>
          <td><a href="{{ hit['_source']['url'] }}">{{ hit['_source']['title'] }}</a></td>
          <td>{{ hit['_source']['tags'] }}</td>
      </tr>
    </tbody>
{% endfor %}
  </table>

        <footer class="footer" style="text-align: center;">
        <p>&copy; CTR Team devCodeCamp </p>
      </footer>

      </div>
    </div>

{% endblock %}
